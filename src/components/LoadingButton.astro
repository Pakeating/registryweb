---
// src/components/LoadingButton.astro
interface Props {
    id: string;
    type: 'submit' | 'button';
    class?: string;
}

const { id, type, class: className } = Astro.props;
---
<button class:list={["button", className]} {id} {type}>
    <span class="button-text"><slot /></span>
    <span class="spinner hidden"></span>
</button>

<style>
    .button {
        background-color: #3B82F6; /* var(--accent-color) */
        color: white;
        font-weight: 700;
        padding: 0.75rem 1.5rem;
        border-radius: 0.375rem;
        border: none;
        cursor: pointer;
        transition: background-color 0.2s;
        width: 100%;
        font-size: 1rem;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 44px; /* Ensure button height doesn't change */
    }

    .button:hover {
        background-color: #2563EB;
    }

    .button:disabled {
        cursor: not-allowed;
        background-color: #60A5FA; /* A lighter blue */
    }

    .hidden {
        display: none;
    }

    .spinner {
        width: 20px;
        height: 20px;
        border: 3px solid rgba(255, 255, 255, 0.5);
        border-top-color: #fff;
        border-radius: 50%;
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        to { transform: rotate(360deg); }
    }
</style>
